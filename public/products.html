<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Les Saboteurs - RORONOA GAMES</title>
  <link rel="stylesheet" href="roronoa-games.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700;900&family=Rajdhani:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>
<body>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="container">
      <div class="nav-brand">
        <h1 class="logo">RORONOA <span class="logo-accent">GAMES</span></h1>
        <div class="logo-subtitle">‰∏âÂàÄÊµÅ ‚Ä¢ Sant≈çry≈´ Style</div>
      </div>
      <div class="nav-links">
        <a href="index-site.html#accueil" data-i18n-site="nav.home">Accueil</a>
        <a href="index-site.html#a-propos" data-i18n-site="nav.about">√Ä Propos</a>
        <a href="products.html" class="active" data-i18n-site="nav.products">Produits</a>
        <a href="index-site.html#contact" data-i18n-site="nav.contact">Contact</a>
        <button class="btn-login" onclick="openLoginModal()" data-i18n-site="nav.login">Se Connecter</button>
        <div class="lang-selector-wrap" id="lang-selector-wrap"></div>
      </div>
      <div class="nav-mobile-toggle" onclick="toggleMobileMenu()">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </nav>

  <!-- Product Hero -->
  <section class="product-hero">
    <div class="container">
      <div class="product-hero-content">
        <div class="product-badge" data-i18n-site="products.hero_badge">Notre Jeu Phare</div>
        <h1 class="product-title" data-i18n-site="products.hero_title">LES SABOTEURS</h1>
        <p class="product-tagline" data-i18n-site="products.hero_tagline">Infiltration ‚Ä¢ D√©duction ‚Ä¢ Multijoueur</p>
        
        <div class="product-cta">
          <a href="https://saboteurs-2.onrender.com" target="_blank" class="btn btn-primary btn-large" onclick="goToGameWithToken(event)" data-i18n-site="products.play_now">
            üéÆ Jouer Maintenant
          </a>
          <button class="btn btn-outline btn-large" onclick="openPacksModal()" data-i18n-site="products.discover_packs">
            üíé D√©couvrir les Packs
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Game Description -->
  <section class="game-desc">
    <div class="container">
      <div class="desc-content">
        <h2 data-i18n-site="products.the_game">Le Jeu</h2>
        <p>
          <strong>Les Saboteurs</strong> est un jeu de d√©duction sociale multijoueur qui plonge 
          les joueurs dans une station spatiale en perdition. Certains sont des astronautes 
          innocents cherchant √† survivre, d'autres sont des saboteurs infiltr√©s d√©termin√©s 
          √† saboter la mission.
        </p>
        <p>
          Inspir√© des meilleurs jeux sociaux, Les Saboteurs offre une exp√©rience unique avec 
          vid√©o int√©gr√©e, multiples univers th√©matiques, et un syst√®me de progression addictif.
        </p>
        
        <div class="desc-features">
          <div class="feature-box">
            <div class="feature-icon">üë•</div>
            <h3 data-i18n-site="products.feature_players">6-12 Joueurs</h3>
            <p data-i18n-site="products.feature_players_desc">6-9 sur mobile / 6-12 sur PC</p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">üé≠</div>
            <h3 data-i18n-site="products.feature_themes">Th√®mes & R√¥les</h3>
            <p data-i18n-site="products.feature_themes_desc">4 univers, r√¥les vari√©s et sp√©ciaux</p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">üìπ</div>
            <h3 data-i18n-site="products.feature_video">Visio Int√©gr√©e</h3>
            <p data-i18n-site="products.feature_video_desc">Sans t√©l√©chargement, mobile & PC</p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">‚è±Ô∏è</div>
            <h3 data-i18n-site="products.feature_duration">15-45 Minutes</h3>
            <p data-i18n-site="products.feature_duration_desc">Parties rapides et dynamiques</p>
          </div>
          
          <div class="feature-box">
            <div class="feature-icon">üåç</div>
            <h3 data-i18n-site="products.feature_languages">7 Langues</h3>
            <p>FR, EN, ES, IT, DE, PT, JA</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Themes Section -->
  <section class="themes">
    <div class="container">
      <div class="section-header">
        <div class="section-badge" data-i18n-site="products.themes_badge">Univers</div>
        <h2 class="section-title" data-i18n-site="products.themes_title">4 Th√®mes Immersifs</h2>
      </div>
      
      <div class="themes-grid">
        <!-- Spatial -->
        <div class="theme-card">
          <div class="theme-icon">üöÄ</div>
          <h3 data-i18n-site="products.theme_space_title">Infiltration Spatiale</h3>
          <p data-i18n-site="products.theme_space_desc">
            L'univers classique : une station spatiale, des astronautes, des saboteurs.
            R√©parez la station avant qu'il ne soit trop tard !
          </p>
          <div class="theme-features">
            <span>üîß T√¢ches techniques</span>
            <span>üö® Sabotages critiques</span>
            <span>üì° Communications radio</span>
          </div>
        </div>
        
        <!-- Loup-Garou -->
        <div class="theme-card">
          <div class="theme-icon">üê∫</div>
          <h3 data-i18n-site="products.theme_werewolf_title">Loup-Garou</h3>
          <p data-i18n-site="products.theme_werewolf_desc">
            Un village m√©di√©val hant√© par les loups-garous. Villageois contre cr√©atures 
            de la nuit dans une bataille √©pique pour la survie.
          </p>
          <div class="theme-features">
            <span>üåô Cycle jour/nuit</span>
            <span>üîÆ Pouvoirs sp√©ciaux</span>
            <span>üèòÔ∏è Village myst√©rieux</span>
          </div>
        </div>
        
        <!-- Sorciers -->
        <div class="theme-card">
          <div class="theme-icon">üßô</div>
          <h3 data-i18n-site="products.theme_wizard_title">Acad√©mie des Sorciers</h3>
          <p data-i18n-site="products.theme_wizard_desc">
            Une √©cole de magie infiltr√©e par des sorciers noirs. Ma√Ætrisez la magie 
            et d√©masquez les tra√Ætres avant qu'ils ne corrompent l'acad√©mie.
          </p>
          <div class="theme-features">
            <span>‚ú® Sorts magiques</span>
            <span>üìö Biblioth√®que ancienne</span>
            <span>üéì Salles de classe</span>
          </div>
        </div>
        
        <!-- Mythique -->
        <div class="theme-card">
          <div class="theme-icon">‚öîÔ∏è</div>
          <h3 data-i18n-site="products.theme_mythic_title">Royaumes Mythiques</h3>
          <p data-i18n-site="products.theme_mythic_desc">
            Un royaume fantasy menac√© par des cr√©atures corrompues. Chevaliers, 
            mages et tra√Ætres s'affrontent pour le contr√¥le du royaume.
          </p>
          <div class="theme-features">
            <span>üè∞ Ch√¢teau royal</span>
            <span>üó°Ô∏è Armes l√©gendaires</span>
            <span>üêâ Cr√©atures mythiques</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Pricing -->
  <section class="pricing">
    <div class="container">
      <div class="section-header">
        <div class="section-badge" data-i18n-site="products.pricing_badge">Nos Offres</div>
        <h2 class="section-title" data-i18n-site="products.pricing_title">Plans Tarifaires</h2>
      </div>
      
      <div class="pricing-grid">
        <!-- Free -->
        <div class="pricing-card">
          <div class="pricing-header">
            <h3 data-i18n-site="products.plan_free_name">Gratuit</h3>
            <div class="price">
              <span class="currency" data-i18n-site="products.plan_free_price">0‚Ç¨</span>
              <span class="period" data-i18n-site="products.plan_free_period">/mois</span>
            </div>
          </div>
          <ul class="pricing-features">
            <li data-i18n-site="products.plan_free_feat1">‚úÖ Parties illimit√©es</li>
            <li data-i18n-site="products.plan_free_feat2">‚úÖ 2 avatars IA/mois</li>
            <li data-i18n-site="products.plan_free_feat3">‚úÖ 2 parties vid√©o/mois</li>
            <li data-i18n-site="products.plan_free_feat4">‚úÖ Tous les th√®mes</li>
            <li data-i18n-site="products.plan_free_feat5">‚úÖ Mode hors ligne</li>
          </ul>
        </div>
        
        <!-- Pack -->
        <div class="pricing-card">
          <div class="pricing-header">
            <h3 data-i18n-site="products.plan_pack_name">Pack 50+50</h3>
            <div class="price">
              <span class="currency" data-i18n-site="products.plan_pack_price">4,99‚Ç¨</span>
              <span class="period" data-i18n-site="products.plan_pack_period">unique</span>
            </div>
          </div>
          <ul class="pricing-features">
            <li data-i18n-site="products.plan_pack_feat1">‚úÖ 50 avatars IA</li>
            <li data-i18n-site="products.plan_pack_feat2">‚úÖ 50 cr√©dits vid√©o</li>
            <li data-i18n-site="products.plan_pack_feat3">‚úÖ Valables 12 mois</li>
            <li data-i18n-site="products.plan_pack_feat4">‚úÖ Tous les avantages Free</li>
            <li data-i18n-site="products.plan_pack_feat5">‚úÖ Support prioritaire</li>
          </ul>
        </div>
        
        <!-- Premium -->
        <div class="pricing-card featured">
          <div class="pricing-badge" data-i18n-site="products.plan_premium_badge">Le Plus Populaire</div>
          <div class="pricing-header">
            <h3 data-i18n-site="products.plan_premium_name">Premium</h3>
            <div class="price">
              <span class="currency" data-i18n-site="products.plan_premium_price">1,49‚Ç¨</span>
              <span class="period" data-i18n-site="packs.premium_period">/mois</span>
            </div>
          </div>
          <ul class="pricing-features">
            <li data-i18n-site="products.plan_premium_feat1">‚úÖ Avatars IA illimit√©s</li>
            <li data-i18n-site="products.plan_premium_feat2">‚úÖ Parties vid√©o illimit√©es</li>
            <li data-i18n-site="products.plan_premium_feat3">‚úÖ Badge exclusif</li>
            <li data-i18n-site="products.plan_premium_feat4">‚úÖ Acc√®s anticip√© nouveaut√©s</li>
            <li data-i18n-site="products.plan_premium_feat5">‚úÖ Support VIP 24/7</li>
          </ul>
        </div>
        
        <!-- Family -->
        <div class="pricing-card">
          <div class="pricing-header">
            <h3 data-i18n-site="products.plan_family_name">Pack Famille</h3>
            <div class="price">
              <span class="currency" data-i18n-site="products.plan_family_price">9,99‚Ç¨</span>
              <span class="period" data-i18n-site="packs.premium_period">/mois</span>
            </div>
          </div>
          <ul class="pricing-features">
            <li data-i18n-site="products.plan_family_feat1">‚úÖ Jusqu'√† 9 comptes</li>
            <li data-i18n-site="products.plan_family_feat2">‚úÖ Avantages Premium pour tous</li>
            <li data-i18n-site="products.plan_family_feat3">‚úÖ Gestion centralis√©e</li>
            <li data-i18n-site="products.plan_family_feat4">‚úÖ √âconomie de 60%</li>
            <li data-i18n-site="products.plan_family_feat5">‚úÖ Support prioritaire</li>
          </ul>
        </div>
      </div>
    </div>
  </section>

  <!-- CTA -->
  <section class="cta">
    <div class="container">
      <div class="cta-content">
        <h2 data-i18n-site="products.cta_title">Pr√™t √† Jouer ?</h2>
        <p data-i18n-site="products.cta_subtitle">Rejoignez des milliers de joueurs dans l'aventure la plus intense !</p>
        <div class="cta-buttons">
          <a href="https://saboteurs-2.onrender.com" target="_blank" class="btn btn-primary btn-large" onclick="goToGameWithToken(event)" data-i18n-site="products.play_now">
            üéÆ Jouer Maintenant
          </a>
          <button class="btn btn-outline btn-large" onclick="openPacksModal()" data-i18n-site="products.cta_offers">
            üíé Voir les Offres Premium
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-brand">
          <h3>RORONOA <span>GAMES</span></h3>
          <p data-i18n-site="products.footer_creator">Cr√©ateur d'exp√©riences vid√©oludiques</p>
        </div>
        <div class="footer-links">
          <div class="footer-column">
            <h4 data-i18n-site="footer.quick_links">Navigation</h4>
            <a href="index-site.html#accueil" data-i18n-site="nav.home">Accueil</a>
            <a href="index-site.html#a-propos" data-i18n-site="nav.about">√Ä Propos</a>
            <a href="products.html" data-i18n-site="nav.products">Produits</a>
            <a href="index-site.html#contact" data-i18n-site="nav.contact">Contact</a>
          </div>
          <div class="footer-column">
            <h4 data-i18n-site="footer.legal">L√©gal</h4>
            <a href="/mentions-legales.html" data-i18n-site="footer.legal_notice">Mentions L√©gales</a>
            <a href="/cgu.html" data-i18n-site="footer.terms_of_service">CGU</a>
            <a href="/politique-confidentialite.html" data-i18n-site="footer.privacy_policy">Confidentialit√©</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p data-i18n-site="footer.copyright">&copy; 2026 RORONOA GAMES. Tous droits r√©serv√©s.</p>
      </div>
    </div>
  </footer>

  <!-- Modal Login (m√™me que index-site.html) -->
  <div id="modal-login" class="modal" style="display: none;">
    <div class="modal-overlay" onclick="closeLoginModal()"></div>
    <div class="modal-content">
      <button class="modal-close" onclick="closeLoginModal()">√ó</button>
      
      <div class="modal-header">
        <h2 data-i18n-site="auth.login_title">Connexion</h2>
        <p data-i18n-site="auth.login_subtitle">Acc√©dez √† votre compte RORONOA GAMES</p>
      </div>
      
      <div class="auth-tabs">
        <button class="auth-tab active" onclick="switchAuthTab('login')">Connexion</button>
        <button class="auth-tab" onclick="switchAuthTab('register')">Inscription</button>
      </div>
      
      <form id="login-form" class="auth-form" onsubmit="handleLogin(event)">
        <input type="email" name="email" placeholder="Email" data-i18n-site="auth.email_placeholder" required>
        <input type="password" name="password" placeholder="Mot de passe" data-i18n-site="auth.password_placeholder" required>
        <button type="submit" class="btn btn-primary">Se Connecter</button>
      </form>
      
      <form id="register-form" class="auth-form" style="display: none;" onsubmit="handleRegister(event)">
        <input type="text" name="username" placeholder="Pseudo" data-i18n-site="auth.username_placeholder" required>
        <input type="email" name="email" placeholder="Email" data-i18n-site="auth.email_placeholder" required>
        <input type="password" name="password" placeholder="Mot de passe" data-i18n-site="auth.password_placeholder" required>
        <input type="password" name="confirm_password" placeholder="Confirmer mot de passe" data-i18n-site="auth.confirm_password_placeholder" required>
        <button type="submit" class="btn btn-primary">S'Inscrire</button>
      </form>
    </div>
  </div>

  <script src="roronoa-games.js"></script>
\n\n<!-- ============================================================================
   MODAL PACKS - √Ä AJOUTER DANS index-site.html AVANT <!-- üîê Auth Check Script - V√©rifie connexion avant paiements -->
<script src="/js/auth-check.js"></script>

<!-- üåç Site Translations -->
<script src="site-translations.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    var wrap = document.getElementById("lang-selector-wrap");
    if (wrap) wrap.innerHTML = createLanguageSelector();
  });
</script>
</body>
   ============================================================================ -->

<!-- ============================================================================
   MODAL PACKS V2 - CORRIG√â - √Ä AJOUTER DANS index-site.html AVANT <!-- üîê Auth Check Script - V√©rifie connexion avant paiements -->
<script src="/js/auth-check.js"></script>

<!-- üåç Site Translations -->
<script src="site-translations.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    var wrap = document.getElementById("lang-selector-wrap");
    if (wrap) wrap.innerHTML = createLanguageSelector();
  });
</script>
</body>
   ============================================================================ -->

<!-- Modal Packs Premium -->
<div id="modal-packs" class="modal" style="display: none;">
  <div class="modal-overlay" onclick="closePacksModal()"></div>
  <div class="modal-content" style="max-width: 1100px; max-height: 90vh; overflow-y: auto;">
    <button class="modal-close" onclick="closePacksModal()">√ó</button>
    
    <div class="modal-header" style="text-align: center;">
      <h2 style="color: var(--green-bright); margin: 0;">üíé Nos Packs Premium</h2>
      <p style="color: #aaa; margin-top: 10px;">Compte v√©rifi√© requis pour acc√©der aux packs</p>
    </div>
    
    <div class="packs-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); gap: 30px; margin-top: 40px; padding: 0 20px;">
      
      <!-- Pack 50+50 -->
      <div class="pack-card" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); border: 2px solid var(--green-main); border-radius: 15px; padding: 30px; position: relative; overflow: hidden; display: flex; flex-direction: column; align-items: center; text-align: center;">
        <div class="pack-badge" style="position: absolute; top: 15px; right: 15px; background: var(--green-bright); color: #000; padding: 5px 15px; border-radius: 20px; font-size: 12px; font-weight: bold;">
          PONCTUEL
        </div>
        
        <div class="pack-icon" style="font-size: 56px; margin-bottom: 20px;">üéÆ</div>
        <h3 style="color: var(--green-bright); margin: 0 0 15px 0; font-size: 24px;">Pack 50+50</h3>
        
        <div class="pack-price" style="font-size: 42px; font-weight: bold; color: #fff; margin: 20px 0;">
          4,99‚Ç¨
          <span style="font-size: 16px; color: #aaa; font-weight: normal; display: block; margin-top: 5px;">une fois</span>
        </div>
        
        <ul style="list-style: none; padding: 0; margin: 25px 0; color: #ccc; line-height: 2; text-align: left; width: 100%;">
          <li style="padding: 5px 0;">‚úÖ 50 cr√©dits vid√©o</li>
          <li style="padding: 5px 0;">‚úÖ 50 avatars IA</li>
          <li style="padding: 5px 0;">‚úÖ Valables 12 mois</li>
          <li style="padding: 5px 0;">‚úÖ Tous les th√®mes</li>
          <li style="padding: 5px 0;">‚úÖ Support prioritaire</li>
        </ul>
        
        <button class="btn btn-primary" onclick="buyPack('pack50')" style="width: 100%; margin-top: auto; padding: 15px; font-size: 16px; font-weight: bold; background: var(--green-main); color: #fff; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
          üõí Acheter maintenant
        </button>
      </div>
      
      <!-- Premium -->
      <div class="pack-card" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); border: 3px solid var(--green-bright); border-radius: 15px; padding: 30px; position: relative; overflow: hidden; box-shadow: 0 0 30px rgba(107, 157, 58, 0.3); display: flex; flex-direction: column; align-items: center; text-align: center;">
        <div class="pack-badge" style="position: absolute; top: 15px; right: 15px; background: gold; color: #000; padding: 5px 15px; border-radius: 20px; font-size: 12px; font-weight: bold;">
          ‚≠ê POPULAIRE
        </div>
        
        <div class="pack-icon" style="font-size: 56px; margin-bottom: 20px;">üåü</div>
        <h3 style="color: var(--green-bright); margin: 0 0 15px 0; font-size: 24px;">Premium</h3>
        
        <div class="pack-price" style="font-size: 42px; font-weight: bold; color: #fff; margin: 20px 0;">
          1,49‚Ç¨
          <span style="font-size: 16px; color: #aaa; font-weight: normal; display: block; margin-top: 5px;">/mois</span>
        </div>
        
        <ul style="list-style: none; padding: 0; margin: 25px 0; color: #ccc; line-height: 2; text-align: left; width: 100%;">
          <li style="padding: 5px 0;">‚úÖ Visio illimit√©e</li>
          <li style="padding: 5px 0;">‚úÖ 30 avatars IA/mois</li>
          <li style="padding: 5px 0;">‚úÖ 4 th√®mes complets</li>
          <li style="padding: 5px 0;">‚úÖ Badge exclusif</li>
          <li style="padding: 5px 0;">‚úÖ Support VIP 24/7</li>
          <li style="padding: 5px 0;">‚úÖ Acc√®s anticip√© nouveaut√©s</li>
        </ul>
        
        <button class="btn btn-primary" onclick="buyPack('premium')" style="width: 100%; margin-top: auto; padding: 15px; font-size: 16px; font-weight: bold; background: var(--green-bright); color: #fff; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
          üöÄ S'abonner
        </button>
      </div>
      
      <!-- Pack Famille -->
      <div class="pack-card" style="background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%); border: 2px solid var(--green-main); border-radius: 15px; padding: 30px; position: relative; overflow: hidden; display: flex; flex-direction: column; align-items: center; text-align: center;">
        <div class="pack-badge" style="position: absolute; top: 15px; right: 15px; background: #ff6b6b; color: #fff; padding: 5px 15px; border-radius: 20px; font-size: 12px; font-weight: bold;">
          FAMILLE
        </div>
        
        <div class="pack-icon" style="font-size: 56px; margin-bottom: 20px;">üë®‚Äçüë©‚Äçüëß‚Äçüë¶</div>
        <h3 style="color: var(--green-bright); margin: 0 0 15px 0; font-size: 24px;">Pack Famille</h3>
        
        <div class="pack-price" style="font-size: 42px; font-weight: bold; color: #fff; margin: 20px 0;">
          9,99‚Ç¨
          <span style="font-size: 16px; color: #aaa; font-weight: normal; display: block; margin-top: 5px;">/mois</span>
        </div>
        
        <ul style="list-style: none; padding: 0; margin: 25px 0; color: #ccc; line-height: 2; text-align: left; width: 100%;">
          <li style="padding: 5px 0;">‚úÖ Jusqu'√† 9 comptes</li>
          <li style="padding: 5px 0;">‚úÖ Visio illimit√©e pour tous</li>
          <li style="padding: 5px 0;">‚úÖ 30 avatars/mois par utilisateur</li>
          <li style="padding: 5px 0;">‚úÖ 4 th√®mes complets</li>
          <li style="padding: 5px 0;">‚úÖ Gestion centralis√©e</li>
          <li style="padding: 5px 0;">‚úÖ √âconomie de 85%</li>
        </ul>
        
        <button class="btn btn-primary" onclick="buyPack('family')" style="width: 100%; margin-top: auto; padding: 15px; font-size: 16px; font-weight: bold; background: var(--green-main); color: #fff; border: none; border-radius: 8px; cursor: pointer; transition: all 0.3s ease;">
          üë®‚Äçüë©‚Äçüëß‚Äçüë¶ S'abonner en famille
        </button>
      </div>
      
    </div>
    
    <!-- Champ Code Promo -->
    <div class="promo-code-section" style="margin-top: 30px; padding: 20px; background: rgba(107, 157, 58, 0.1); border: 1px dashed var(--green-main); border-radius: 10px; text-align: center;">
      <label style="color: var(--green-bright); font-weight: bold; display: block; margin-bottom: 10px;">üéÅ Tu as un code promo ?</label>
      <div style="display: flex; gap: 10px; justify-content: center; align-items: center; flex-wrap: wrap;">
        <input type="text" id="promo-code-input" placeholder="Entre ton code ici" style="padding: 12px 20px; border: 2px solid #333; border-radius: 8px; background: #1a1a2e; color: #fff; font-size: 14px; text-transform: uppercase; width: 200px;" />
        <button onclick="validatePromoCode()" style="padding: 12px 20px; background: var(--green-main); color: #fff; border: none; border-radius: 8px; cursor: pointer; font-weight: bold;">Valider</button>
      </div>
      <p id="promo-code-status" style="margin-top: 10px; font-size: 13px; color: #aaa;"></p>
    </div>
    
    <div class="modal-footer" style="margin-top: 40px; padding: 25px 20px; border-top: 1px solid #333; text-align: center; color: #aaa;">
      <p style="margin: 0; font-size: 16px;">
        üí° <strong>Compte v√©rifi√© requis</strong> pour acc√©der aux packs. 
        <a href="#" onclick="closePacksModal(); openLoginModal(); return false;" style="color: var(--green-bright); text-decoration: none;">Se connecter</a> ou 
        <a href="#" onclick="closePacksModal(); openLoginModal(); return false;" style="color: var(--green-bright); text-decoration: none;">cr√©er un compte</a>.
      </p>
      <p style="margin-top: 20px; font-size: 14px; color: #888;">
        üîí Paiement s√©curis√© via Stripe ‚Ä¢ üí≥ CB, Apple Pay, Google Pay accept√©s ‚Ä¢ üîÑ Annulation √† tout moment
      </p>
    </div>
  </div>
</div>

<style>
/* Styles pour le modal packs V2 */
.packs-grid {
  animation: fadeInUp 0.5s ease;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.pack-card {
  transition: transform 0.3s ease, box-shadow 0.3s ease;
  min-height: 550px;
}

.pack-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 15px 40px rgba(107, 157, 58, 0.3);
}

.pack-card .btn {
  transition: all 0.3s ease;
}

.pack-card .btn:hover {
  transform: scale(1.05);
  box-shadow: 0 8px 20px rgba(107, 157, 58, 0.5);
  filter: brightness(1.1);
}

/* Responsive */
@media (max-width: 768px) {
  .packs-grid {
    grid-template-columns: 1fr !important;
    gap: 20px !important;
  }
  
  .modal-content {
    max-width: 95% !important;
    margin: 20px auto !important;
  }
  
  .pack-card {
    min-height: auto;
  }
  
  /* Header responsive */
  .header .container {
    flex-direction: column;
    gap: 1rem;
    padding: 1rem;
  }
  
  .header .logo {
    font-size: 1.5rem !important;
  }
  
  .header nav {
    flex-wrap: wrap;
    justify-content: center;
    gap: 0.5rem;
  }
  
  .header nav a {
    font-size: 0.85rem;
    padding: 0.4rem 0.8rem;
  }
  
  /* Product hero */
  .product-header {
    padding: 2rem 1rem;
  }
  
  .product-title {
    font-size: 2rem !important;
  }
  
  .product-subtitle {
    font-size: 1rem;
  }
  
  /* Pricing grid */
  .pricing-grid {
    grid-template-columns: 1fr !important;
    gap: 1rem;
    padding: 0 1rem;
  }
  
  .pricing-card {
    padding: 1.5rem;
  }
  
  .pricing-card .price .currency {
    font-size: 2rem;
  }
  
  /* Features grid */
  .desc-features {
    grid-template-columns: repeat(2, 1fr) !important;
    gap: 0.75rem;
  }
  
  .feature-box {
    padding: 1rem;
  }
  
  .feature-box h3 {
    font-size: 0.9rem;
  }
  
  .feature-box p {
    font-size: 0.75rem;
  }
  
  /* Description section */
  .product-description {
    flex-direction: column;
    padding: 2rem 1rem;
  }
  
  .desc-content {
    padding: 1rem;
  }
  
  .desc-content h2 {
    font-size: 1.5rem;
  }
  
  /* Screenshots/Gallery */
  .screenshot-gallery {
    flex-direction: column;
  }
  
  /* Footer responsive */
  .footer-content {
    flex-direction: column;
    gap: 2rem;
    text-align: center;
  }
  
  .footer-links {
    flex-direction: column;
    gap: 1.5rem;
  }
  
  .footer-column {
    text-align: center;
  }
  
  /* Section titles */
  .section-title {
    font-size: 1.5rem !important;
    padding: 0 1rem;
  }
  
  /* CTA */
  .cta-section {
    padding: 2rem 1rem;
  }
  
  .cta-section h2 {
    font-size: 1.5rem;
  }
  
  /* Modal login responsive */
  #modal-login .modal-content {
    margin: 1rem;
    padding: 1.5rem;
    max-height: 90vh;
    overflow-y: auto;
  }
}

@media (max-width: 480px) {
  .product-title {
    font-size: 1.6rem !important;
  }
  
  .header .logo {
    font-size: 1.3rem !important;
  }
  
  .header nav a {
    font-size: 0.75rem;
    padding: 0.3rem 0.5rem;
  }
  
  .desc-features {
    grid-template-columns: 1fr !important;
  }
  
  .pricing-card .price .currency {
    font-size: 1.8rem;
  }
  
  .pricing-features li {
    font-size: 0.85rem;
  }
  
  .pack-price {
    font-size: 32px !important;
  }
}
</style>

<script>
// ============================================================================
// FONCTIONS MODAL PACKS V2
// ============================================================================

function openPacksModal() {
  document.getElementById('modal-packs').style.display = 'flex';
  document.body.style.overflow = 'hidden'; // Emp√™cher scroll
}

function closePacksModal() {
  document.getElementById('modal-packs').style.display = 'none';
  document.body.style.overflow = 'auto'; // R√©activer scroll
}

// Fonction pour valider un code promo
async function validatePromoCode() {
  const input = document.getElementById('promo-code-input');
  const status = document.getElementById('promo-code-status');
  const code = input.value.trim().toUpperCase();
  
  if (!code) {
    status.innerHTML = '<span style="color: #ff6b6b;">‚ö†Ô∏è Entre un code promo</span>';
    return;
  }
  
  status.innerHTML = '<span style="color: #aaa;">üîÑ V√©rification...</span>';
  
  try {
    const response = await fetch('/api/stripe/validate-promo?code=' + encodeURIComponent(code));
    const data = await response.json();
    
    if (data.valid) {
      const discount = data.percent_off ? `-${data.percent_off}%` : `-${(data.amount_off / 100).toFixed(2)}‚Ç¨`;
      status.innerHTML = `<span style="color: var(--green-bright);">‚úÖ Code valide ! R√©duction : <strong>${discount}</strong></span>`;
      input.style.borderColor = 'var(--green-bright)';
    } else {
      status.innerHTML = '<span style="color: #ff6b6b;">‚ùå Code invalide ou expir√©</span>';
      input.style.borderColor = '#ff6b6b';
    }
  } catch (error) {
    status.innerHTML = '<span style="color: #ff6b6b;">‚ùå Erreur de v√©rification</span>';
  }
}

// Fonction d'achat de pack
async function buyPack(packType) {
  // V√©rifier si l'utilisateur est connect√©
  const token = localStorage.getItem('token') || localStorage.getItem('saboteur_token');
  
  if (!token) {
    // Pas connect√© ‚Üí Ouvrir le modal de connexion
    closePacksModal();
    if (typeof openLoginModal === 'function') {
      openLoginModal();
    } else {
      alert('‚ö†Ô∏è Vous devez √™tre connect√© pour acheter un pack.\n\nCr√©ez un compte ou connectez-vous pour continuer.');
    }
    return;
  }
  
  // V√©rifier si l'utilisateur a v√©rifi√© son email
  try {
    const response = await fetch('/api/auth/me', {
      headers: {
        'Authorization': `Bearer ${token}`
      }
    });
    
    if (!response.ok) {
      throw new Error('Non authentifi√©');
    }
    
    const user = await response.json();
    
    if (!user.emailVerified) {
      alert('‚ö†Ô∏è Veuillez v√©rifier votre email avant d\'acheter un pack.\n\nUn email de v√©rification vous a √©t√© envoy√© lors de votre inscription.\n\nV√©rifiez votre bo√Æte de r√©ception et vos spams.');
      return;
    }
    
    // Afficher un loader
    const button = event.target;
    const originalText = button.innerHTML;
    button.innerHTML = '‚è≥ Chargement...';
    button.disabled = true;
    
    // R√©cup√©rer le code promo s'il y en a un
    const promoCodeInput = document.getElementById('promo-code-input');
    const promoCode = promoCodeInput ? promoCodeInput.value.trim().toUpperCase() : '';
    
    // Rediriger vers Stripe selon le type de pack
    let checkoutUrl;
    
    switch(packType) {
      case 'pack50':
        checkoutUrl = '/api/stripe/create-checkout-session?pack=50';
        break;
      case 'premium':
        checkoutUrl = '/api/stripe/create-checkout-session?subscription=premium';
        break;
      case 'family':
        checkoutUrl = '/api/stripe/create-checkout-session?subscription=family';
        break;
      default:
        button.innerHTML = originalText;
        button.disabled = false;
        alert('Pack inconnu');
        return;
    }
    
    // Ajouter le code promo √† l'URL si pr√©sent
    if (promoCode) {
      checkoutUrl += '&promoCode=' + encodeURIComponent(promoCode);
    }
    
    // Cr√©er la session Stripe
    const checkoutResponse = await fetch(checkoutUrl, {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      }
    });
    
    if (!checkoutResponse.ok) {
      throw new Error('Erreur lors de la cr√©ation de la session de paiement');
    }
    
    const { url } = await checkoutResponse.json();
    
    // Rediriger vers Stripe
    window.location.href = url;
    
  } catch (error) {
    console.error('Erreur:', error);
    alert('‚ùå Erreur lors de l\'achat. Veuillez r√©essayer ou contacter le support.');
    
    // R√©activer le bouton
    if (event && event.target) {
      event.target.innerHTML = originalText;
      event.target.disabled = false;
    }
  }
}

// Fermer le modal si on clique en dehors
document.addEventListener('click', function(e) {
  const modal = document.getElementById('modal-packs');
  if (modal && e.target === modal) {
    closePacksModal();
  }
});

// Fermer avec √âchap
document.addEventListener('keydown', function(e) {
  if (e.key === 'Escape') {
    const modal = document.getElementById('modal-packs');
    if (modal && modal.style.display === 'flex') {
      closePacksModal();
    }
  }
});
</script>

<!-- üéÆ Script pour passer le token vers l'app -->
<script>
function goToGameWithToken(event) {
  const token = localStorage.getItem('token') || localStorage.getItem('saboteur_token');
  if (token) {
    event.preventDefault();
    const url = 'https://saboteurs-2.onrender.com?auth_token=' + encodeURIComponent(token);
    window.open(url, '_blank');
  }
}
</script>

<!-- üîê Auth Check Script - V√©rifie connexion avant paiements -->
<script src="/js/auth-check.js"></script>


<!-- üîî Script Notifications & Offres Auto -->
<script>
// V√©rifier les notifications et offres au chargement
document.addEventListener('DOMContentLoaded', () => {
  setTimeout(checkUserNotificationsAuto, 2000);
  setTimeout(checkAvailableOffersAuto, 3000);
});

// R√©cup√©rer et afficher les notifications non lues
async function checkUserNotificationsAuto() {
  const token = localStorage.getItem('saboteur_token') || localStorage.getItem('token');
  if (!token) return;
  
  try {
    const response = await fetch('/api/notifications', {
      headers: { 'Authorization': `Bearer ${token}` }
    });
    if (!response.ok) return;
    const notifications = await response.json();
    if (notifications && notifications.length > 0) {
      notifications.forEach(notif => showNotifPopup(notif.message, notif.type || 'info'));
    }
  } catch (error) { console.log('[Notifications] Erreur:', error); }
}

// V√©rifier les offres automatiques disponibles
async function checkAvailableOffersAuto() {
  const token = localStorage.getItem('saboteur_token') || localStorage.getItem('token');
  const user = JSON.parse(localStorage.getItem('saboteur_user') || '{}');
  if (!token || !user.id) return;
  
  const lastOfferCheck = localStorage.getItem('last_offer_check');
  const now = Date.now();
  if (lastOfferCheck && now - parseInt(lastOfferCheck) < 24 * 60 * 60 * 1000) return;
  
  try {
    const response = await fetch('/api/stripe/auto-discounts', {
      headers: { 'Authorization': `Bearer ${token}` }
    });
    if (!response.ok) return;
    const data = await response.json();
    
    if (data.discounts && data.discounts.length > 0) {
      const offer = data.discounts[0];
      const discount = offer.percent_off ? `-${offer.percent_off}%` : `-${(offer.amount_off / 100).toFixed(2)}‚Ç¨`;
      showOfferPopupAuto(`üéâ Offre sp√©ciale !`, `Tu as droit √† <strong>${discount}</strong> sur ton prochain achat !`, offer.name);
      localStorage.setItem('last_offer_check', now.toString());
    }
  } catch (error) { console.log('[Offers] Erreur:', error); }
}

// Afficher un pop-up de notification
function showNotifPopup(message, type = 'info') {
  const colors = { info: '#00ffff', success: '#00ff88', reward: '#ffd700', welcome_offers: '#00ff88' };
  const color = colors[type] || colors.info;
  
  const popup = document.createElement('div');
  popup.innerHTML = `<div style="position:fixed;top:20px;right:20px;background:rgba(0,0,0,0.9);border:2px solid ${color};border-radius:12px;padding:15px 20px;max-width:350px;z-index:10001;box-shadow:0 4px 20px rgba(0,0,0,0.3);animation:slideInRight 0.3s ease;">
    <button onclick="this.parentElement.parentElement.remove()" style="position:absolute;top:5px;right:10px;background:none;border:none;color:#888;cursor:pointer;font-size:18px;">‚úï</button>
    <p style="color:#fff;margin:0;padding-right:20px;">${message}</p>
  </div>`;
  document.body.appendChild(popup);
  setTimeout(() => popup.remove(), 8000);
}

// Afficher un pop-up d'offre sp√©ciale
function showOfferPopupAuto(title, message, offerName) {
  const overlay = document.createElement('div');
  overlay.style.cssText = 'position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,0.7);z-index:10001;';
  overlay.className = 'offer-overlay';
  
  const popup = document.createElement('div');
  popup.innerHTML = `<div style="position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:linear-gradient(135deg,#1a1a2e,#16213e);border:2px solid #00ff88;border-radius:20px;padding:30px;max-width:400px;z-index:10002;box-shadow:0 0 50px rgba(0,255,136,0.3);text-align:center;">
    <button onclick="this.parentElement.parentElement.remove();document.querySelector('.offer-overlay')?.remove();" style="position:absolute;top:10px;right:15px;background:none;border:none;color:#888;cursor:pointer;font-size:24px;">‚úï</button>
    <div style="font-size:50px;margin-bottom:15px;">üéÅ</div>
    <h3 style="color:#00ff88;margin-bottom:10px;">${title}</h3>
    <p style="color:#fff;margin-bottom:5px;">${message}</p>
    <p style="color:#aaa;font-size:0.85em;margin-bottom:20px;">${offerName}</p>
    <button onclick="this.parentElement.parentElement.remove();document.querySelector('.offer-overlay')?.remove();" style="padding:12px 30px;background:linear-gradient(90deg,#00ff88,#00cc6a);color:#000;border:none;border-radius:10px;font-weight:bold;cursor:pointer;font-size:16px;">üëç Compris !</button>
  </div>`;
  
  overlay.onclick = () => { popup.remove(); overlay.remove(); };
  document.body.appendChild(overlay);
  document.body.appendChild(popup);
}

// CSS animation
if (!document.getElementById('notif-styles-auto')) {
  const style = document.createElement('style');
  style.id = 'notif-styles-auto';
  style.textContent = '@keyframes slideInRight{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}';
  document.head.appendChild(style);
}
</script>

<!-- üåç Site Translations -->
<script src="site-translations.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function() {
    var wrap = document.getElementById("lang-selector-wrap");
    if (wrap) wrap.innerHTML = createLanguageSelector();
  });
</script>
</body>
</html>
